(function(t){function e(e){for(var n,i,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)i=o[p],s[i]&&d.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},r=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),s=a.n(n);s.a},"15bb":function(t,e,a){t.exports=a.p+"img/icon-register.637b18ad.png"},"1c06":function(t,e,a){},"22cd":function(t,e,a){"use strict";var n=a("3600"),s=a.n(n);s.a},"27fd":function(t,e,a){"use strict";var n=a("b3a0"),s=a.n(n);s.a},"315a":function(t,e,a){"use strict";var n=a("c64f"),s=a.n(n);s.a},3600:function(t,e,a){},"3abe":function(t,e,a){"use strict";var n=a("1c06"),s=a.n(n);s.a},"3b46":function(t,e,a){t.exports=a.p+"img/img-dog.ca4dbb00.png"},"49db":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal__box modal--inicio-sesion"},[a("div",{staticClass:"modal-header"},[a("h3",{staticClass:"titulo"}),a("button",{staticClass:"btnCerrarModal",attrs:{type:"button"},on:{click:function(e){t.$emit("onCloseInfoUser")}}},[t._v("\n                X\n            ")])]),a("div",{staticClass:"modal-body"},[a("p",[t._v(t._s(t.currentUser.user.firstName)+" "+t._s(t.currentUser.user.lastName))])])])])},s=[],r=(a("cadf"),a("551c"),a("097d"),a("2f62"),{name:"InfoUser",props:["currentUser"],data:function(){return{credentials:{email:"",password:""}}}}),i=r,o=a("2877"),c=Object(o["a"])(i,n,s,!1,null,null,null);c.options.__file="InfoUser.vue";e["a"]=c.exports},"56d7":function(t,e,a){"use strict";a.r(e);a("96cf");var n=a("1da1"),s=(a("cadf"),a("551c"),a("097d"),a("2b0e")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"snackbar"}}),a("nav-bar",{on:{onShowLogin:function(e){t.flagLogin=!0}}}),t.flagLogin?a("login-user",{on:{onCloseLogin:function(e){t.flagLogin=!1}}}):t._e(),a("router-view")],1)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar"},[t._m(0),a("ul",{staticClass:"navbar__menu"},[t.isAuthenticated?[a("li",[a("router-link",{attrs:{to:{name:"Profile"}}},[t._v(" "+t._s(t.fullName)+" ")])],1),a("li",[a("router-link",{attrs:{to:{name:"RegisterPostPet"}}},[t._v("Nuevo post")])],1)]:[a("li",[a("a",{attrs:{href:""},on:{click:function(e){t.clickLogin()}}},[t._v("Inicia")])]),a("li",[a("router-link",{attrs:{to:{name:"RegisterUser"}}},[t._v("Regístrate")])],1)],a("li",[a("router-link",{attrs:{to:{name:"ListLost"}}},[t._v("Mapa")])],1),t.isAuthenticated?a("li",[a("button",{on:{click:t.doLogout}},[t._v("Cerrar sesión")])]):t._e()],2)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar__logo"},[n("a",{attrs:{href:"/"}},[n("img",{attrs:{src:a("c1a8"),alt:"logo helpet"}})])])}],u=a("be94"),l=a("2f62"),p=a("00e7"),d=a.n(p),m={name:"NavBar",computed:Object(u["a"])({},Object(l["d"])({user:function(t){return t.auth.user},isAuthenticated:function(t){return t.auth.authenticated}}),{fullName:function(){return this.user.firstName+" "+this.user.lastName}}),methods:Object(u["a"])({},Object(l["b"])({logout:"logout"}),{doLogout:function(){this.logout(),this.$router.go()},clickLogin:function(){event.preventDefault(),this.$emit("onShowLogin")}})},f=m,h=(a("9672"),a("2877")),v=Object(h["a"])(f,o,c,!1,null,"1bfbd271",null);v.options.__file="NavBar.vue";var g=v.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal__box modal--inicio-sesion"},[a("div",{staticClass:"modal-header"},[a("h3",{staticClass:"titulo"}),a("button",{staticClass:"btnCerrarModal",attrs:{type:"button"},on:{click:function(e){t.$emit("onCloseLogin")}}},[t._v("\n                X\n            ")])]),a("div",{staticClass:"modal-body"},[t._m(0),a("form",{staticClass:"col-6",attrs:{id:"login-form",action:""}},[a("h3",{staticClass:"titulo"},[t._v("INICIAR")]),a("div",{staticClass:"form-input"},[a("label",{attrs:{for:"inputEmail"}},[t._v("Correo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.email,expression:"credentials.email"}],attrs:{type:"email",name:"email",placeholder:"Correo"},domProps:{value:t.credentials.email},on:{input:function(e){e.target.composing||t.$set(t.credentials,"email",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("label",{attrs:{for:"inputPassword"}},[t._v("Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],attrs:{type:"password",name:"password",placeholder:"Contraseña"},domProps:{value:t.credentials.password},on:{input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}})]),a("div",{staticClass:"form-submit"},[a("button",{staticClass:"frm--btm",attrs:{type:"submit"},on:{click:t.signUp}},[t._v("Iniciar sesion")])])])])])])},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-6 img-promo"},[n("img",{attrs:{src:a("3b46"),alt:"helpet inicio de sesion"}}),n("span",{staticClass:"slogan"},[t._v("Ayudalo a ser encontrado y encuentra a tu mascota")])])}],w={name:"LoginUser",data:function(){return{credentials:{email:"",password:""}}},methods:Object(u["a"])({},Object(l["b"])({login:"login"}),{signUp:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return event.preventDefault(),event.stopPropagation(),e=this.credentials,this.isLoading=!0,t.next=6,this.login(e);case 6:this.isLoading=!1,this.$emit("onCloseLogin"),this.$router.push("/mapa/encontrados");case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},y=w,C=Object(h["a"])(y,b,_,!1,null,null,null);C.options.__file="LoginUser.vue";var k=C.exports,x={components:{NavBar:g,LoginUser:k},name:"app",data:function(){return{flagLogin:!1}}},O=x,P=(a("034f"),Object(h["a"])(O,r,i,!1,null,null,null));P.options.__file="App.vue";var j=P.exports,L=a("8c4f"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filtro cont"},[n("router-link",{attrs:{to:{name:"Home"}}},[n("section",{staticClass:"cont--slogan"},[n("ul",{staticClass:"slogan__elemt"},[n("div",{staticClass:"slogan"},[n("h3",{staticClass:"slogan__title"},[t._v("\n                    Encuentra a tu "),n("span",{staticClass:"slogan__title--bold"},[t._v("mascota")]),n("br"),t._v("\n                    perdida o ayuda a una a encontrar su hogar\n                ")]),n("span",{staticClass:"slogan__subtitle"},[t._v("Porque las mascotas son los mejores amigos")]),n("router-link",{attrs:{to:{name:"RegisterUser"}}},[t._v("Regístrate")])],1),n("div",{staticClass:"logo"},[n("img",{attrs:{src:a("cb01"),alt:"logo helpet"}})])])])]),n("router-view")],1)},E=[],S={name:"HomePage"},N=S,R=(a("5fe9"),Object(h["a"])(N,T,E,!1,null,"9521a9d8",null));R.options.__file="HomePage.vue";var U=R.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("loading",{attrs:{active:t.isLoading,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("section",{staticClass:"cont cont--register"},[a("ul",{staticClass:"register"},[a("h3",[t._v("REGISTRATE")]),a("div",[a("form",{staticClass:"form",attrs:{id:"register-form"}},[a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.firstName,expression:"user.firstName"}],attrs:{type:"text",name:"name",placeholder:"Nombres"},domProps:{value:t.user.firstName},on:{input:function(e){e.target.composing||t.$set(t.user,"firstName",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastName,expression:"user.lastName"}],attrs:{type:"text",name:"lastname",placeholder:"Apellidos"},domProps:{value:t.user.lastName},on:{input:function(e){e.target.composing||t.$set(t.user,"lastName",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],attrs:{type:"phone",name:"phone",placeholder:"Telefono (Opcional)"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{type:"email",name:"email",placeholder:"Correo"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",name:"password",placeholder:"Contraseña"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("div",[a("vue-recaptcha",{attrs:{sitekey:"6Ld2lDMUAAAAAAANVdV6YEsvi8xehx9NmXK8Ce8a"},on:{verify:t.verify}})],1),a("div",{staticClass:"form-submit"},[t.isVerified?a("button",{staticClass:"btn btn-regular",on:{click:t.register}},[t._v("Aceptar")]):t._e()])])])]),t._m(0)])],1)},$=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"redes"},[n("figure",{staticClass:"figure"},[n("img",{attrs:{src:a("15bb"),alt:"icono-register"}})]),n("div",{staticClass:"iconos"},[n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fa fa-facebook",attrs:{"aria-hidden":"true"}})]),n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}})]),n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fa fa-instagram",attrs:{"aria-hidden":"true"}})])])])}],A=a("e096"),D={name:"RegisterUser",data:function(){return{user:{},isVerified:!1}},mounted:function(){var t=document.createElement("script");t.setAttribute("src","https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit"),document.head.appendChild(t)},components:{VueRecaptcha:A["a"]},methods:Object(u["a"])({},Object(l["b"])({registerUser:"registerUser"}),{register:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(event.preventDefault(),event.stopPropagation(),this.isVerified){t.next=9;break}return e=this.user,this.isLoading=!0,t.next=7,this.registerUser(e);case 7:this.isLoading=!1,this.$router.push("/mapa/encontrados");case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),verify:function(t){this.isVerified=!!t},expired:function(){this.isVerified=!1}})},z=D,M=(a("27fd"),Object(h["a"])(z,I,$,!1,null,null,null));M.options.__file="RegisterUser.vue";var F=M.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cont cont--inicio"},[a("div",{staticClass:"cont--tarjetas"},[a("div",{staticClass:"content"},[a("div",{staticClass:"tab-links"},[a("router-link",{attrs:{to:{name:"ListLost"},exact:""}},[a("button",{staticClass:"tab-link posts-tab",attrs:{type:"button"}},[t._v("\n                        Perdidos\n                    ")])]),a("router-link",{attrs:{to:{name:"ListFound"},exact:""}},[a("button",{staticClass:"tab-link posts-tab",attrs:{type:"button"}},[t._v("Encontrados")])])],1),t.flagInfoUser?a("info-user",{attrs:{currentUser:t.crntUser},on:{onCloseInfoUser:function(e){t.flagInfoUser=!1}}}):t._e(),a("router-view")],1)]),a("div",{staticClass:"cont--mapa"},[a("mapbox",{attrs:{"access-token":"pk.eyJ1IjoiYW5nZWxyb2Rybzk1IiwiYSI6ImNqODljcTJrdDAxaWIyd21rNTZubHQwamMifQ.6ghwymwGfrRC15-iKOxcww","map-options":{style:"mapbox://styles/mapbox/streets-v9",center:[-70.221799,-18.0031498],zoom:15},"geolocate-control":{show:!0,position:"top-left"},"nav-control":{show:!0,position:"top-left"},"fullscreen-control":{show:!0,position:"top-left"}},on:{"map-init":t.mapInitialized}})],1)])},V=[],B=a("af02"),Y=B["a"],q=(a("22cd"),Object(h["a"])(Y,H,V,!1,null,null,null));q.options.__file="MapView.vue";var J=q.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("infinite-list",{staticClass:"tab-content",attrs:{id:"tab-encontrados"},on:{scrollEnd:t.scrollEnd}},[a("loading",{attrs:{active:t.isLoading,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),t._l(t.foundPosts,function(e,n){return a("ItemFound",{key:n,attrs:{item:e},on:{onShowInfo:t.showUser}})})],2)},G=[],Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tarjeta tarjeta--perrrito-perdido",attrs:{id:t.item.id}},[a("div",{staticClass:"tarjeta__titulo"},[a("img",{attrs:{src:t.item.user.profile,alt:"foto de perfil"}}),a("span",{on:{click:t.showInfo}},[t._v(t._s(t.fullName))])]),a("div",{staticClass:"tarjeta__imagen"},[t.item.photos&&t.item.photos.length?a("carousel",{attrs:{perPageCustom:[[1024,1]]}},t._l(t.item.photos,function(t){return a("slide",{key:t._id},[a("img",{attrs:{src:t.thumbnailPath,alt:"perrito encontrado"}})])})):a("img",{attrs:{src:"https://saveapetil.org/wp-content/themes/saveapet/images/dog-placeholder.jpg",alt:"perrito encontrado"}})],1),a("div",{staticClass:"tarjeta__descripcion"},[a("p",{staticClass:"descripcion"},[t._v(" "+t._s(t.item.description)+" ")]),a("p",{staticClass:"direccion"},[t._v(" "+t._s(t.item.address)+" ")]),a("div",{staticClass:"caracteristicas"},[t._m(0),t._l(t.item.tags,function(e){return a("span",{key:e._id,staticClass:"caracteristica"},[t._v("\n                "+t._s(e.value)+"\n            ")])})],2)])])},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("b",[t._v(" Características ")])])}],K=a("0a63"),X={name:"ItemFound",components:{Carousel:K["Carousel"],Slide:K["Slide"]},props:{item:{type:Object}},methods:{showInfo:function(){console.log("on show info"),this.$emit("onShowInfo",this.item)}},computed:{fullName:function(){return this.item.user.firstName+" "+this.item.user.lastName}}},tt=X,et=Object(h["a"])(tt,Q,Z,!1,null,null,null);et.options.__file="Item.vue";var at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container",on:{scroll:t.scrollHandler}},[t._t("default")],2)},st=[],rt={name:"InfiniteList",methods:{scrollHandler:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.isAtTheBottom()&&(console.log("scroll reached"),this.$emit("scrollEnd"));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),isAtTheBottom:function(){var t=this.$refs.container;return t.scrollHeight-t.scrollTop===t.clientHeight}}},it=rt,ot=Object(h["a"])(it,nt,st,!1,null,null,null);ot.options.__file="InfiniteList.vue";var ct=ot.exports,ut={methods:{scrollEnd:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.getItems({limit:this.limit,skip:this.skip});case 3:this.skip=this.skip+this.limit,this.isLoading=!1;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},data:function(){return{skip:0,limit:5,isLoading:!1}}},lt={name:"PetsFound",components:{ItemFound:at,InfiniteList:ct},mixins:[ut],created:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,this.$store.commit("SET_CURRENT_TYPE","found"),t.next=4,this.getItems();case 4:this.skip=this.skip+this.limit,this.isLoading=!1;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:Object(u["a"])({},Object(l["d"])({foundPosts:function(t){return t.pet.foundPosts}})),methods:Object(u["a"])({},Object(l["b"])({getItems:"getFoundPosts"}),{showUser:function(t){this.$emit("onShowInfoUser",t)}}),beforeDestroy:function(){this.$store.commit("RESET_FOUND_POSTS")}},pt=lt,dt=Object(h["a"])(pt,W,G,!1,null,null,null);dt.options.__file="PetFound.vue";var mt=dt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("infinite-list",{staticClass:"tab-content",attrs:{id:"tab-perdidos"},on:{scrollEnd:t.scrollEnd}},[a("loading",{attrs:{active:t.isLoading,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),t._l(t.lostPosts,function(e,n){return a("ItemFound",{key:n,attrs:{item:e},on:{onShowInfo:t.showUser}})})],2)},ht=[],vt={name:"AnimalLost",mixins:[ut],components:{ItemFound:at,InfiniteList:ct},created:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,this.$store.commit("SET_CURRENT_TYPE","lost"),t.next=4,this.getItems();case 4:this.skip=this.skip+this.limit,this.isLoading=!1;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:Object(u["a"])({},Object(l["d"])({lostPosts:function(t){return t.pet.lostPosts}})),methods:Object(u["a"])({},Object(l["b"])({getItems:"getLostPosts"}),{showUser:function(t){this.$emit("onShowInfoUser",t)}}),beforeDestroy:function(){this.$store.commit("RESET_LOST_POSTS")}},gt=vt,bt=(a("3abe"),Object(h["a"])(gt,ft,ht,!1,null,"91279e72",null));bt.options.__file="PetLost.vue";var _t=bt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("section",{staticClass:"cont cont--inicio"},[a("div",{staticClass:"cont--formulario"},[a("form",{attrs:{id:"post-form"}},[a("h3",{attrs:{align:"center"}},[t._v("Informacion de la mascota")]),a("div",[a("form",{staticClass:"form",attrs:{id:"register-form"}},[a("div",{staticClass:"form-input"},[a("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:t.dropzoneOptions},on:{"vdropzone-file-added":t.fileAdded}}),a("input",{attrs:{type:"file",name:"photo"}}),a("figure",{staticClass:"avatar"},[a("img",{attrs:{height:"128",width:"128",src:t.preview}}),a("div",{staticClass:"file is-centered"},[a("label",{staticClass:"file-label"},[a("input",{staticClass:"file-input",attrs:{type:"file",name:"photo"},on:{change:function(e){t.processFile(e)}}}),t._m(0)])])])],1),a("div",{staticClass:"form-input"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.description,expression:"post.description"}],staticStyle:{height:"100px"},attrs:{placeholder:"Descripcion",name:"description",id:"",cols:"30",rows:"100"},domProps:{value:t.post.description},on:{input:function(e){e.target.composing||t.$set(t.post,"description",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.post.address,expression:"post.address"}],attrs:{type:"text",name:"address",placeholder:"Direccion"},domProps:{value:t.post.address},on:{input:function(e){e.target.composing||t.$set(t.post,"address",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("selectize",{attrs:{settings:t.settings},model:{value:t.post.tags,callback:function(e){t.$set(t.post,"tags",e)},expression:"post.tags"}},t._l(t.tags,function(e){return a("option",{key:e._id,domProps:{value:e.value}},[t._v("\n                                    "+t._s(e.value)+"\n                                ")])}))],1),a("div",{staticClass:"form-input"},[a("div",{staticClass:"cleck--flex"},[a("label",{staticClass:"cleck--flex"},[a("div",{staticClass:"field--input"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.post.type,expression:"post.type",modifiers:{number:!0}}],attrs:{checked:"checked",name:"type",type:"radio",value:"0"},domProps:{checked:t._q(t.post.type,t._n("0"))},on:{change:function(e){t.$set(t.post,"type",t._n("0"))}}})]),a("span",[t._v("Perdido")])]),a("label",{staticClass:"cleck--flex"},[a("div",{staticClass:"field--input"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.post.type,expression:"post.type",modifiers:{number:!0}}],attrs:{name:"type",type:"radio",value:"1"},domProps:{checked:t._q(t.post.type,t._n("1"))},on:{change:function(e){t.$set(t.post,"type",t._n("1"))}}})]),a("span",[t._v("Encontrado")])])])]),a("div",{staticClass:"form-submit"},[a("button",{staticClass:"btn btn-regular",on:{click:t.newPost}},[t._v("\n                                Aceptar\n                            ")])])])])])]),a("div",{staticClass:"cont--mapa"},[a("mapbox",{attrs:{"access-token":"pk.eyJ1IjoiYW5nZWxyb2Rybzk1IiwiYSI6ImNqODljcTJrdDAxaWIyd21rNTZubHQwamMifQ.6ghwymwGfrRC15-iKOxcww","map-options":{style:"mapbox://styles/mapbox/streets-v9",center:[-70.221799,-18.0031498],zoom:15},"geolocate-control":{show:!0,position:"top-left"},"nav-control":{show:!0,position:"top-left"},"fullscreen-control":{show:!0,position:"top-left"}},on:{"map-init":t.mapInitialized,"map-click":t.mapClicked}})],1)])],1)},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"file-cta"},[a("span",{staticClass:"file-icon"},[a("i",{staticClass:"fas fa-upload"})]),a("span",{staticClass:"file-label"},[t._v("\n                                        Choose a file…\n                                        ")])])}],Ct=a("83ad"),kt=Ct["a"],xt=(a("315a"),Object(h["a"])(kt,wt,yt,!1,null,"1dec24e8",null));xt.options.__file="Post.vue";var Ot=xt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("loading",{attrs:{active:t.isLoading,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"cont cont--register"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.firstName,expression:"user.firstName"}],attrs:{placeholder:"Nombres",type:"text"},domProps:{value:t.user.firstName},on:{input:function(e){e.target.composing||t.$set(t.user,"firstName",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastName,expression:"user.lastName"}],attrs:{placeholder:"Apellidos",type:"text"},domProps:{value:t.user.lastName},on:{input:function(e){e.target.composing||t.$set(t.user,"lastName",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{placeholder:"Email",type:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],attrs:{placeholder:"Telefono",type:"phone"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}})]),a("div",{staticClass:"form-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.facebook,expression:"user.facebook"}],attrs:{placeholder:"Facebook",type:"text"},domProps:{value:t.user.facebook},on:{input:function(e){e.target.composing||t.$set(t.user,"facebook",e.target.value)}}})]),a("div",[a("button",{staticClass:"btn btn-regular",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.updateProfile(e)}}},[t._v("\n                    Aceptar\n                ")])])])])],1)},jt=[],Lt={name:"UserProfile",data:function(){return{user:{},isLoading:!1}},methods:Object(u["a"])({},Object(l["b"])({getProfile:"getProfile",updateUser:"updateUser",validateAuthorization:"validateAuthorization"}),{updateProfile:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,e=this.user,t.next=4,this.updateUser(e);case 4:this.isLoading=!1,this.validateAuthorization();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),created:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.getProfile();case 3:this.user=t.sent,this.isLoading=!1;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},Tt=Lt,Et=Object(h["a"])(Tt,Pt,jt,!1,null,null,null);Et.options.__file="Profile.vue";var St=Et.exports;s["default"].use(L["a"]);var Nt=new L["a"]({mode:"history",routes:[{path:"/",name:"Home",component:U,meta:{title:"Helpet - Ayuda a las mascotas a encontrar su hogar"}},{path:"/registro",name:"RegisterUser",component:F,meta:{title:"Registro de usuario",user:!0}},{path:"/perfil",name:"Profile",component:St,meta:{title:"Perfil del usuario",auth:!0}},{path:"/publicacion",name:"RegisterPostPet",auth:!0,component:Ot,meta:{title:"Nueva publicacion",auth:!0}},{path:"/mapa",name:"Map",component:J,children:[{name:"ListFound",path:"encontrados",component:mt,meta:{title:"Mascotas encontradas"}},{name:"ListLost",path:"perdidos",component:_t,meta:{title:"Mascotas perdidas"}}]}]}),Rt=Nt,Ut=(a("6b54"),a("6762"),a("2fdb"),a("bc3a")),It=a.n(Ut),$t="https://helpet-api.herokuapp.com/api",At={login:function(t){return It.a.post("".concat($t,"/login"),t)},logout:function(){return It.a.post("".concat($t,"/logout"))},validToken:function(t){return It.a.post("".concat($t,"/users/valid-token"),{token:t}).catch(function(t){if(t.toString().includes("401"))return{status:401}})}};s["default"].use(d.a);var Dt={authenticated:!1,user:{}},zt={SET_AUTHENTICATED:function(t,e){t.authenticated=e},SET_USER:function(t,e){t.user=e}},Mt={login:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,a){var n,s,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,At.login(a);case 3:s=t.sent,r=s.status,i=s.data,200===r&&(n("SET_AUTHENTICATED",!0),n("SET_USER",i),d.a.set("helpet_auth",i.token));case 7:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),logout:function(t){t.commit;d.a.delete("helpet_auth")},validateAuthorization:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var a,n,s,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.commit,n=d.a.get("helpet_auth"),n){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,At.validToken(n);case 6:if(s=t.sent,r=s.status,i=s.data,200!==r){t.next=13;break}return a("SET_AUTHENTICATED",!0),a("SET_USER",i),t.abrupt("return",!0);case 13:return 401===r&&d.a.delete("helpet_auth"),t.abrupt("return",!1);case 15:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},Ft={},Ht={state:Dt,actions:Mt,getters:Ft,mutations:zt},Vt="https://helpet-api.herokuapp.com/api",Bt={create:function(t){return It.a.post("".concat(Vt,"/users"),t)},login:function(t){return It.a.post("".concat(Vt,"/login"),t)},profile:function(){return It.a.get("".concat(Vt,"/users/profile"))},update:function(t){return It.a.put("".concat(Vt,"/users/profile"),t)}};s["default"].use(d.a);var Yt={user:{}},qt={SET_USER:function(t,e){t.user=e}},Jt={registerUser:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,a){var n,s,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Bt.create(a);case 3:return s=t.sent,r=s.status,i=s.data,200===r&&(n("SET_AUTHENTICATED",!0),n("SET_USER",i),d.a.set("helpet_auth",i.token)),t.abrupt("return",i);case 8:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),getProfile:function(t){t.commit;return Bt.profile().then(function(t){return t.data})},updateUser:function(t,e){t.commit;return Bt.update(e)}},Wt={state:Yt,actions:Jt,mutations:qt},Gt=(a("f751"),a("2909")),Qt="https://helpet-api.herokuapp.com/api",Zt={list:function(t){var e=t.type,a=t.limit,n=void 0===a?5:a,s=t.skip,r=void 0===s?0:s;return It.a.get("".concat(Qt,"/posts?type=").concat(e,"&limit=").concat(n,"&skip=").concat(r)).then(function(t){return t.data})},create:function(t){return It.a.post("".concat(Qt,"/posts/s3"),t,{headers:{"Content-Type":"multipart/form-data"}})},profile:function(t){return It.a.post("".concat(Qt,"/posts/").concat(t),payload)},getTags:function(t){return It.a.get("".concat(Qt,"/posts/tags?q=").concat(t))}},Kt={post:{},lostPosts:[],foundPosts:[],currentType:"found",tags:[]},Xt={SET_CURRENT_TYPE:function(t,e){t.currentType=e},SET_TAGS:function(t,e){t.tags=e},ADD_FOUND_POSTS:function(t,e){var a;e&&(a=t.foundPosts).push.apply(a,Object(Gt["a"])(e))},ADD_LOST_POSTS:function(t,e){var a;e&&(a=t.lostPosts).push.apply(a,Object(Gt["a"])(e))},RESET_FOUND_POSTS:function(t){t.foundPosts=[]},RESET_LOST_POSTS:function(t){t.lostPosts=[]}},te={getLostPosts:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,a){var n,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,s=Object.assign({},a),t.next=4,Zt.list(Object(u["a"])({type:0},s));case 4:r=t.sent,n("ADD_LOST_POSTS",r);case 6:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),getFoundPosts:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,a){var n,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,s=Object.assign({},a),t.next=4,Zt.list(Object(u["a"])({type:1},s));case 4:r=t.sent,r&&n("ADD_FOUND_POSTS",r);case 6:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),createPost:function(t,e){t.commit;return Zt.create(e)},getTags:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,a){var n,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Zt.getTags(a);case 3:s=t.sent,r=s.data,n("SET_TAGS",r);case 6:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},ee=function(t){return{id:t._id,latitude:t.latitude,longitude:t.longitude,photo:t.photos[0].thumbnailPath,type:1}},ae={getPosts:function(t){return t.foundPosts},getCurrentPositions:function(t){return"found"===t.currentType?t.foundPosts.map(ee):"lost"===t.currentType?t.lostPosts.map(ee):void 0}},ne={state:Kt,mutations:Xt,getters:ae,actions:te};s["default"].use(l["a"]);var se=new l["a"].Store({modules:{auth:Ht,user:Wt,pet:ne}}),re=se,ie=a("9062"),oe=a.n(ie),ce=(a("bd0f"),{components:{loading:oe.a},data:function(){return{isLoading:!0,fullPage:!0}},mounted:function(){void 0===this.getFoundPosts&&(this.isLoading=!1)},beforeUpdate:function(){}});It.a.defaults.headers.common["authorization"]=d.a.get("helpet_auth"),s["default"].mixin(ce),s["default"].use(d.a),s["default"].config.productionTip=!1;var ue=function(t){t({path:"/mapa/perdidos"})};Rt.beforeEach(function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,a,n){var s,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.meta,r=e.path,document.title=s.title,t.next=4,re.dispatch("validateAuthorization");case 4:if(i=t.sent,"/mapa"!==r){t.next=7;break}return t.abrupt("return",ue(n));case 7:if(!i){t.next=11;break}if(!s.user){t.next=10;break}return t.abrupt("return",ue(n));case 10:return t.abrupt("return",n());case 11:if(!s.auth){t.next=13;break}return t.abrupt("return",n({path:"/"}));case 13:n();case 14:case"end":return t.stop()}},t,this)}));return function(e,a,n){return t.apply(this,arguments)}}()),new s["default"]({render:function(t){return t(j)},router:Rt,store:re}).$mount("#app")},"5d05":function(t,e,a){},"5fe9":function(t,e,a){"use strict";var n=a("5d05"),s=a.n(n);s.a},"64a9":function(t,e,a){},"83ad":function(t,e,a){"use strict";(function(t){a("96cf");var n=a("1da1"),s=a("be94"),r=(a("2b0e"),a("1355")),i=a.n(r),o=a("2f62"),c=a("92c3"),u=a.n(c),l=(a("1e3f"),a("2ef0"),a("7be2")),p=a.n(l);e["a"]={name:"PostForm",components:{Selectize:i.a,vueDropzone:u.a,Mapbox:p.a},computed:Object(s["a"])({},Object(o["d"])({tags:function(t){return t.pet.tags}})),created:function(){this.getTags()},beforeDestroy:function(){this.map.remove()},methods:Object(s["a"])({},Object(o["b"])({getTags:"getTags",createPost:"createPost"}),{fileAdded:function(t){console.log(this.$refs.myVueDropzone)},processFile:function(t){this.post.photo=t.target.files[0],this.preview=URL.createObjectURL(t.target.files[0])},newPost:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var a,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.preventDefault(),this.isLoading=!0,!this.marker||!this.marker._lngLat){t.next=12;break}for(r in a=Object(s["a"])({},this.post,{photos:this.$refs.myVueDropzone.getAcceptedFiles(),latitude:this.marker._lngLat.lat,longitude:this.marker._lngLat.lng}),a.tags=JSON.stringify(a.tags),n=new FormData,a)n.append(r,a[r]);return t.next=9,this.createPost(n);case 9:this.$router.push("/mapa/perdidos"),t.next=13;break;case 12:alert("Necesitas seleccionar una posicion en el mapa");case 13:this.isLoading=!1;case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),mapInitialized:function(t){this.map=t},mapClicked:function(e,a){var n=a.lngLat,s=n.lng,r=n.lat;this.marker&&this.marker.remove&&(this.marker.remove(),this.marker=null),this.marker=new t.Marker(this.genLayoutMarker(),{offset:[-24,-24]}).setLngLat([s,r]).addTo(e)},genLayoutMarker:function(){var t=document.createElement("div");return t.className="marker marker--encontrado",t.style.width="48px",t.style.height="48px",t}}),data:function(){return{isLoading:!1,post:{description:"",address:"",tags:[],photo:"",type:0},preview:"https://st2.depositphotos.com/1798678/5498/v/950/depositphotos_54982011-stock-illustration-dog-silhouette-vector.jpg",settings:{mode:"multi",maxItems:20},dropzoneOptions:{url:"https://httpbin.org/post",thumbnailWidth:150,maxFilesize:.5,dictDefaultMessage:"Haga click aqui or arrastre un archivo",dictFileTooBig:"La imagen es demasiado grande ({{filesize}}MiB). Tamaño de la imagen maxima: {{maxFilesize}}MiB."},mapOptions:{zoom:14,center:new google.maps.LatLng(-18.013611,-70.252769)},marker:{},map:{}}}}}).call(this,a("e192"))},9672:function(t,e,a){"use strict";var n=a("c815"),s=a.n(n);s.a},af02:function(t,e,a){"use strict";(function(t){var n,s=a("ade3"),r=a("be94"),i=(a("ac4d"),a("8a81"),a("ac6a"),a("49db")),o=a("2f62"),c=(a("2ef0"),a("7be2")),u=a.n(c);e["a"]=(n={components:{InfoUser:i["a"]},name:"Map",data:function(){return{mapOptions:{zoom:14,center:new google.maps.LatLng(-18.013611,-70.252769)},flagInfoUser:!1,crntUser:{}}}},Object(s["a"])(n,"components",{Mapbox:u.a}),Object(s["a"])(n,"watch",{markers:function(){this.mapMarker()}}),Object(s["a"])(n,"beforeDestroy",function(){this.map.remove()}),Object(s["a"])(n,"methods",{mapInitialized:function(t){this.map=t},mapMarker:function(){var e=!0,a=!1,n=void 0;try{for(var s,r=this.markers[Symbol.iterator]();!(e=(s=r.next()).done);e=!0){var i=s.value;new t.Marker(this.genLayoutMarker(i),{offset:[-i.properties.iconSize[0]/2,-i.properties.iconSize[1]/2]}).setLngLat(i.geometry.coordinates).addTo(this.map)}}catch(o){a=!0,n=o}finally{try{e||null==r.return||r.return()}finally{if(a)throw n}}},genLayoutMarker:function(t){var e=document.createElement("div");return e.className=1==t.type?"marker marker--encontrado":"marker marker--perdido",t.photo&&(e.style.backgroundImage="url(".concat(t.photo,")")),e.style.width=t.properties.iconSize[0]?t.properties.iconSize[0]+"px":"48px",e.style.height=t.properties.iconSize[1]?t.properties.iconSize[1]+"px":"48px",e}}),Object(s["a"])(n,"computed",Object(r["a"])({},Object(o["c"])({positions:"getCurrentPositions"}),{markers:function(){return this.positions.map(function(t){return{id:t.id,photo:t.photo,properties:{iconSize:[48,48]},type:t.type,geometry:{type:"Point",coordinates:[t.longitude,t.latitude]}}})}})),n)}).call(this,a("e192"))},b3a0:function(t,e,a){},c1a8:function(t,e,a){t.exports=a.p+"img/ico-logo.e35ec7f8.png"},c64f:function(t,e,a){},c815:function(t,e,a){},cb01:function(t,e,a){t.exports=a.p+"img/img-A.38bf760d.png"}});
//# sourceMappingURL=app.cce0a580.js.map